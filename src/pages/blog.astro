---
import Layout from "../layouts/Layout.astro";
const allPosts = await Astro.glob("../pages/blog/*.md");

const formatDate = (date: string) => {
  const options: Intl.DateTimeFormatOptions = {
    year: "numeric",
    month: "long",
    day: "numeric",
  };
  return new Date(date).toLocaleDateString("en-GB", options);
};
---

<style>
  @import "../styles.css";
</style>

<Layout>
  <div class="mb-10 flex flex-col">
    <div class="flex flex-row justify-between">
      <p class="text-2xl">
        A blog about the web, design and typography.
      </p>
      <a
        href="/rss.xml"
        class="text-ykb active:text-white hover:text-orangepeel text-4xl"
      >
        <span class="icon-[simple-icons--rss]"></span>
      </a>
    </div>
    <div class="mt-10">
      {
        allPosts.reverse().map((post) => (
          <a href={post.url} class="hover:text-ykb active:text-white">
            <div class="border-2 border-black flex flex-col sm:flex-row justify-between p-5 mb-10 sm:items-center">
              <h1 class="text-xl">{post.frontmatter.title}</h1>
              <p>
                {" "}
                {formatDate(post.frontmatter.pubDate.slice(0, 10))}
              </p>
            </div>
          </a>
        ))
      }
    </div>
  </div>
</Layout>
